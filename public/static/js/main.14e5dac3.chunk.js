(this["webpackJsonpclient-side"]=this["webpackJsonpclient-side"]||[]).push([[0],{38:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){"use strict";n.r(t);var s=n(0),a=n(1),o=n.n(a),c=n(31),r=n.n(c),i=(n(38),n(9)),l=n(2),u=n(3),d=n(5),h=n(4),j=n(7),p=n(14),b=n(16),O=n.n(b),v=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_DOMAINURL,f=O.a.create({baseURL:v,withCredentials:!0}),g={signup:function(e){return console.log(v),f.post("/api/signup",e)},login:function(e){return f.post("/api/login",e)},logout:function(){return f.post("/api/logout",{})},getAuthenticatedUser:function(){return console.log({baseURL:v,env:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})}),f.get("/api/isLoggedIn")}},m=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(l.a)(this,n);for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={username:"",email:"",password:"",message:null},e.handleInputChange=function(t){var n=t.target,s=n.name,a=n.value;e.setState(Object(p.a)({},s,a))},e.handleFormSubmission=function(t){t.preventDefault();var n=e.state,s=n.username,a=n.email,o=n.password;g.signup({username:s,email:a,password:o}).then((function(t){var n=t.data.user;e.props.history.push("/profile/".concat(n._id))})).catch((function(t){if(t.response&&t.response.data)return e.setState({message:t.response.data.message})}))},e}return Object(u.a)(n,[{key:"render",value:function(){return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("section",{children:[Object(s.jsx)("h2",{children:" Sign Up "}),Object(s.jsxs)("form",{onSubmit:this.handleFormSubmission,children:[Object(s.jsxs)("label",{children:["Username:",Object(s.jsx)("input",{name:"username",type:"text",placeholder:"ana",value:this.state.username,onChange:this.handleInputChange})]}),Object(s.jsxs)("label",{children:["Email:",Object(s.jsx)("input",{name:"email",type:"email",placeholder:"ana@ironhack.com",value:this.state.email,onChange:this.handleInputChange})]}),Object(s.jsxs)("label",{children:["Password:",Object(s.jsx)("input",{name:"password",type:"password",placeholder:"**********",value:this.state.password,onChange:this.handleInputChange})]}),Object(s.jsx)("button",{children:" Signup "})]}),this.state.message&&Object(s.jsxs)("div",{children:[" ",this.state.message," "]})]})})}}]),n}(o.a.Component),x=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(l.a)(this,n);for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={email:"",password:"",message:null,loggedInUser:[]},e.handleInputChange=function(t){var n=t.target,s=n.name,a=n.value;e.setState(Object(p.a)({},s,a))},e.handleFormSubmission=function(t){t.preventDefault();var n=e.state,s=n.email,a=n.password;g.login({email:s,password:a}).then((function(t){var n=t.data.user;e.props.onUserChange(n),e.props.history.push("/profile/".concat(n._id))})).catch((function(t){if(t.response&&t.response.data)return e.setState({message:t.response.data.message})}))},e}return Object(u.a)(n,[{key:"render",value:function(){return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("section",{children:[Object(s.jsx)("h2",{children:" Login "}),Object(s.jsxs)("form",{onSubmit:this.handleFormSubmission,children:[Object(s.jsxs)("label",{children:["Email:",Object(s.jsx)("input",{name:"email",type:"email",placeholder:"ana@ironhack.com",value:this.state.email,onChange:this.handleInputChange})]}),Object(s.jsxs)("label",{children:["Password:",Object(s.jsx)("input",{name:"password",type:"password",placeholder:"**********",value:this.state.password,onChange:this.handleInputChange})]}),Object(s.jsx)("button",{type:"submit",children:" Login "})]}),this.state.message&&Object(s.jsxs)("div",{children:[" ",this.state.message," "]})]})})}}]),n}(o.a.Component),w=n(6),S=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_DOMAINURL,y=O.a.create({baseURL:S,withCredentials:!0}),U={service:y,getSearchedBooks:function(e){return y.post("/api/book-search?q=".concat(e))},getBookDetails:function(e){return y.get("/api/details/".concat(e))}},C=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var s;return Object(l.a)(this,n),(s=t.call(this,e)).handleInput=function(e){s.setState({query:e.target.value})},s.handleSearch=function(){U.getSearchedBooks(s.state.query.toLowerCase()).then((function(e){s.setState({searchResult:e.data.searchOutput})})).catch((function(e){return console.log(e)}))},s.state={searchResult:[],query:""},s}return Object(u.a)(n,[{key:"render",value:function(){return console.log(this.state.searchResult),Object(s.jsxs)("div",{className:"search-container",children:[Object(s.jsxs)("form",{className:"form-inline",onChange:this.handleSearch,children:[Object(s.jsx)("input",{placeholder:"Search",className:"form-control mr-sm-2",name:"query",type:"search",autoComplete:"off",value:this.state.query,onChange:this.handleInput}),Object(s.jsx)("button",{className:"btn btn-outline-info my-2 my-sm-0",type:"submit",children:"Search"})]}),this.state.query.length>0&&Object(s.jsx)("div",{className:"search-results",children:this.state.searchResult.map((function(e){return Object(s.jsx)("div",{className:"single-result",children:Object(s.jsx)(w.b,{to:"/details/".concat(null===e||void 0===e?void 0:e.id),children:e.volumeInfo.title})})}))})]})}}]),n}(a.Component),_=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_DOMAINURL,k=O.a.create({baseURL:_,withCredentials:!0}),I={service:k,getUserProfile:function(e){return k.get("/api/account/".concat(e))},getTimeline:function(){return k.get("/api/posts")},editAccountDetails:function(e){return k.post("/api/account/edit",e)},deleteAccount:function(){return k.post("/api/delete-account",{})},getUsersShelves:function(e){return k.get("/api/shelves/".concat(e))},getUsersHasRead:function(e){return k.get("/api/has-read/".concat(e))},getUsersWantToRead:function(e){return k.get("/api/want-to-read/".concat(e))},addBookToHasReadList:function(e,t){return k.post("/api/add-to-has-read/".concat(e),t)},addBookToWantToReadList:function(e,t){return k.post("/api/add-to-want-to-read/".concat(e),t)},removeBookFromWantToReadList:function(e){return k.post("/api/remove-want-book/".concat(e)),{}},removeBookFromHasReadList:function(e){return k.post("/api/remove-has-book/".concat(e),{})},getUsersReviews:function(e){return k.get("/api/reviews/".concat(e))},postReviewToBook:function(e,t){return k.post("/api/review/".concat(e),t)},startDiscussion:function(e,t){return k.post("/start-discussion/".concat(e),t)}},R=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(l.a)(this,n);for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={isLoggedInUser:!1,profile_picture:"",bio:"",userName:"",has_read:[],want_to_read:[],reviews:[],discussions:[],followers:[],following:[]},e.getUserDetails=function(){var t=e.props.match.params;I.getUserProfile(t.accountId).then((function(t){e.props.onUserChange(t.data.user),console.log(t),e.setState({isLoggedInUser:!0,profile_picture:t.data.user.photo,userName:t.data.user.username,has_read:t.data.user.hasRead,want_to_read:t.data.user.wantToRead,reviews:t.data.user.reviews,discussions:t.data.user.discussions,followers:t.data.user.followers,following:t.data.user.following,bio:t.data.user.bio})})).catch((function(e){return console.log(e)}))},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.getUserDetails()}},{key:"render",value:function(){var e,t,n,a,o,c;if(console.log("props",this.props),console.log((null===(e=this.props)||void 0===e||null===(t=e.user)||void 0===t||null===(n=t.user)||void 0===n?void 0:n._id.toString())===this.props.match.params.accountId.toString()),!this.state.isLoggedInUser)return Object(s.jsx)("div",{children:"Loading..."});var r=(null===(a=this.props)||void 0===a||null===(o=a.user)||void 0===o||null===(c=o.user)||void 0===c?void 0:c._id.toString())===this.props.match.params.accountId.toString();return Object(s.jsx)("div",{className:"container",children:Object(s.jsxs)("div",{className:"row",children:[Object(s.jsxs)("div",{className:"col-lg-9",children:[Object(s.jsx)("div",{children:Object(s.jsx)("img",{src:this.state.profile_picture,alt:"user-avi",className:"user-avi"})}),Object(s.jsxs)("div",{children:[Object(s.jsx)("h2",{children:this.state.userName}),r&&Object(s.jsx)("p",{children:Object(s.jsx)(w.b,{to:"/",children:"edit profile"})})]})]}),Object(s.jsx)("div",{className:"col-lg-3",children:Object(s.jsx)("div",{children:Object(s.jsxs)("ul",{className:"profile-links",children:[Object(s.jsx)("li",{children:Object(s.jsx)(w.b,{to:"/reviews/".concat(this.props.match.params.accountId),children:"Reviews"})}),Object(s.jsx)("li",{children:Object(s.jsx)(w.b,{to:"/discussions/".concat(this.props.match.params.accountId),children:"Discussions"})}),Object(s.jsx)("li",{children:Object(s.jsx)(w.b,{to:"/followers/".concat(this.props.match.params.accountId),children:"Followers"})}),Object(s.jsx)("li",{children:Object(s.jsx)(w.b,{to:"/following/".concat(this.props.match.params.accountId),children:"Following"})}),Object(s.jsx)("li",{children:Object(s.jsx)(w.b,{to:"/shelves/".concat(this.props.match.params.accountId),children:"Shelves"})})]})})})]})})}}]),n}(a.Component),T=(n(61),function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(l.a)(this,n);for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).handleLogout=function(){console.log("route called"),g.logout().then((function(t){console.log("logged out!",{blah:t}),e.props.onUserChange(null)})).catch((function(e){return console.log(e)}))},e}return Object(u.a)(n,[{key:"render",value:function(){var e,t,n,a,o,c;return console.log({props:this.props}),Object(s.jsxs)("nav",{className:"navbar navbar-light",children:[Object(s.jsx)("div",{children:"BOOKR."}),this.props.user&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("div",{children:Object(s.jsxs)("ul",{children:[Object(s.jsx)("li",{children:Object(s.jsx)(w.b,{className:"nav-links",to:"/home",children:"Home"})}),Object(s.jsx)("li",{children:Object(s.jsx)(w.b,{className:"nav-links",to:"/shelves/".concat(null===(e=this.props.user)||void 0===e||null===(t=e.user)||void 0===t?void 0:t._id),children:"My Shelves"})}),Object(s.jsx)("li",{children:Object(s.jsxs)("div",{className:"dropdown",children:[Object(s.jsx)("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:"Account"}),Object(s.jsxs)("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton",children:[Object(s.jsx)(w.b,{className:"dropdown-item",to:"/profile/".concat(null===(n=this.props.user)||void 0===n||null===(a=n.user)||void 0===a?void 0:a._id),children:"Profile"}),Object(s.jsx)(w.b,{className:"dropdown-item",to:"/account/".concat(null===(o=this.props.user)||void 0===o||null===(c=o.user)||void 0===c?void 0:c._id),children:"Account Details"}),Object(s.jsx)(w.b,{className:"dropdown-item",to:"/",onClick:this.handleLogout,children:"Logout"})]})]})})]})}),Object(s.jsx)("div",{children:Object(s.jsx)(C,{})})]}),null===this.props.user&&Object(s.jsxs)("div",{children:[Object(s.jsx)("button",{children:Object(s.jsx)(w.b,{to:"/login",children:"Log In"})}),Object(s.jsx)("button",{children:Object(s.jsx)(w.b,{to:"/signup",children:"Sign Up"})})]})]})}}]),n}(a.Component)),A=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(l.a)(this,n);for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={userAccountInfo:[]},e.retreiveUserInfo=function(){var t,n,s;I.getUserProfile(null===(t=e.props)||void 0===t||null===(n=t.user)||void 0===n||null===(s=n.user)||void 0===s?void 0:s._id).then((function(t){e.setState({userAccountInfo:t.data.user})}))},e.handleSubmission=function(){I.editAccountDetails().then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}))},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.retreiveUserInfo()}},{key:"render",value:function(){var e,t,n;console.log(this.state.userAccountInfo);var a=(null===(e=this.props)||void 0===e||null===(t=e.user)||void 0===t||null===(n=t.user)||void 0===n?void 0:n._id.toString())===this.props.match.params.accountId.toString();return Object(s.jsx)(s.Fragment,{children:a&&Object(s.jsx)("div",{children:Object(s.jsxs)("form",{onSubmit:this.handleSubmission,children:[Object(s.jsxs)("label",{children:["Email Address",Object(s.jsx)("input",{type:"email",placeholder:"".concat(this.state.userAccountInfo.email)})]}),Object(s.jsxs)("label",{children:["User Name",Object(s.jsx)("input",{type:"text",placeholder:"".concat(this.state.userAccountInfo.username)})]}),Object(s.jsxs)("label",{children:["Input password to change details",Object(s.jsx)("input",{type:"password",placeholder:"*******",autoComplete:"off"})]}),Object(s.jsx)("button",{type:"submit",children:"Save Profile Settings"})]})})})}}]),n}(a.Component),D=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(l.a)(this,n);for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={isLoggedInUser:!1,booksHasRead:[],booksWantsToRead:[],user_id:"",username:""},e.getBookshelves=function(){var t=e.props.match.params;I.getUserProfile(t.accountId).then((function(t){e.setState({booksHasRead:t.data.user.hasRead,booksWantsToRead:t.data.user.wantToRead,isLoggedInUser:t.data.authorized,username:t.data.user.username,user_id:t.data.user._id})})).catch((function(e){return console.log(e)}))},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.getBookshelves()}},{key:"render",value:function(){return Object(s.jsxs)("div",{children:[this.state.booksHasRead.length>0&&Object(s.jsxs)("div",{children:[Object(s.jsx)("h1",{children:"Books user has read"}),this.state.booksHasRead.map((function(e){return Object(s.jsxs)("div",{children:[Object(s.jsx)("h2",{children:e.title}),Object(s.jsx)("h3",{children:e.subtitle}),Object(s.jsx)("h4",{children:e.authors.map((function(e){return e}))}),Object(s.jsx)("p",{children:e.description})]},e._id)}))]}),this.state.booksWantsToRead.length>0&&Object(s.jsxs)("div",{children:[Object(s.jsx)("h1",{children:"Books user wants to read"}),this.state.booksWantsToRead.map((function(e){return Object(s.jsxs)("div",{children:[Object(s.jsx)("h2",{children:e.title}),Object(s.jsx)("h3",{children:e.subtitle}),Object(s.jsx)("h4",{children:e.authors.map((function(e){return e}))}),Object(s.jsx)("p",{children:e.description})]},e._id)}))]})]})}}]),n}(a.Component),L=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(l.a)(this,n);for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={title:"",discussion:""},e.handleInputChange=function(t){var n=t.target,s=n.name,a=n.value;e.setState(Object(p.a)({},s,a))},e.handleSubmission=function(){var t=e.props.match.params.bookId,n=e.state;n.title,n.discussion;I.startDiscussion(t).then((function(t){var n,s;return e.props.history.push("/discussions/".concat(null===(n=e.props.user)||void 0===n||null===(s=n.user)||void 0===s?void 0:s._id))})).catch((function(e){return console.log(e)}))},e}return Object(u.a)(n,[{key:"render",value:function(){return Object(s.jsx)("div",{children:Object(s.jsxs)("form",{onSubmit:this.handleSubmission,children:[Object(s.jsxs)("label",{children:["Title:",Object(s.jsx)("input",{type:"text",name:"title",value:this.state.title,onChange:this.handleInputChange})]}),Object(s.jsxs)("label",{children:["Discussion:",Object(s.jsx)("input",{type:"text",name:"discussion",value:this.state.discussion,onChange:this.handleInputChange})]}),Object(s.jsx)("button",{type:"submit",children:"Start Discussion"})]})})}}]),n}(a.Component),N=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(l.a)(this,n);for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={numOfStars:0,content:""},e.handleInputChange=function(t){var n=t.target,s=n.name,a=n.value;e.setState(Object(p.a)({},s,a))},e.addReviewToBook=function(t){var n=e.state,s=n.numOfStars,a=n.content,o=e.props.match.params.bookId;I.postReviewToBook(o,{numOfStars:s,content:a}).then((function(t){var n,s;return e.props.history.push("/reviews/".concat(null===(n=e.props.user)||void 0===n||null===(s=n.user)||void 0===s?void 0:s._id))})).catch((function(e){return console.log(e)}))},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.state,t=e.numOfStars,n=e.content;return Object(s.jsx)("div",{children:Object(s.jsxs)("form",{onSubmit:this.addReviewToBook,children:[Object(s.jsxs)("label",{children:["Stars / 5",Object(s.jsx)("input",{type:"number",min:"0",max:"5",name:"numOfStars",value:t,onChange:this.handleInputChange})]}),Object(s.jsxs)("label",{children:["Review",Object(s.jsx)("input",{type:"text",name:"content",value:n,onChange:this.handleInputChange})]}),Object(s.jsx)("button",{type:"submit",children:"Post Review"})]})})}}]),n}(a.Component),E=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(l.a)(this,n);for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={reviews:[]},e.getUserReviews=function(){I.getUsersReviews(e.props.match.params.accountId).then((function(t){e.setState({reviews:t.data.reviews})})).catch((function(e){return console.log(e)}))},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.getUserReviews()}},{key:"render",value:function(){return console.log(this.state.reviews),Object(s.jsx)("div",{children:this.state.reviews.map((function(e){var t;return Object(s.jsxs)("div",{children:[Object(s.jsxs)("p",{children:["content: ",e.content]}),Object(s.jsxs)("p",{children:["rating: ",e.numOfStars]}),Object(s.jsxs)("p",{children:["book reviewing: ",null===(t=e.book)||void 0===t?void 0:t.title]})]},e._id)}))})}}]),n}(a.Component),P=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(l.a)(this,n);for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={isLoggedIn:!1,discussions:[]},e.getUsersDiscussions=function(){I.getUserProfile(e.props.match.params.accountId).then((function(t){e.setState({discussions:t.data.user.discussions})})).catch((function(e){return console.log(e)}))},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.getUsersDiscussions()}},{key:"render",value:function(){var e,t,n;console.log(this.state.discussions);var a=(null===(e=this.props)||void 0===e||null===(t=e.user)||void 0===t||null===(n=t.user)||void 0===n?void 0:n._id.toString())===this.props.match.params.accountId.toString();return console.log(a),Object(s.jsx)("div",{children:this.state.discussions.map((function(e){return Object(s.jsxs)("div",{children:[Object(s.jsx)("h2",{children:e.title}),Object(s.jsxs)("h4",{children:["Regarding: ",e.book.title," By: ",e.book.authors]}),Object(s.jsx)("p",{children:e.content})]},e._id)}))})}}]),n}(a.Component),F=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(l.a)(this,n);for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={isLoggedIn:!1,followers:[]},e.getUserFollowers=function(){I.getUserProfile(e.props.match.params.accountId).then((function(t){e.setState({isLoggedIn:t.data.authorized,followers:t.data.user.followers})})).catch((function(e){return console.log(e)}))},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.getUserFollowers()}},{key:"render",value:function(){return console.log(this.state.followers),Object(s.jsx)("div",{children:this.state.followers.map((function(e){return Object(s.jsxs)("div",{children:[Object(s.jsx)("img",{src:e.photo,alt:"follower-avi"}),Object(s.jsx)(w.b,{to:"/profile/".concat(e._id),children:Object(s.jsx)("p",{children:e.username})})]},e._id)}))})}}]),n}(a.Component),B=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(l.a)(this,n);for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={isLoggedIn:!1,following:[]},e.getUserFollowing=function(){I.getUserProfile(e.props.match.params.accountId).then((function(t){e.setState({isLoggedIn:t.data.authorized,following:t.data.user.following})})).catch((function(e){return console.log(e)}))},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.getUserFollowing()}},{key:"render",value:function(){return console.log(this.state.following),Object(s.jsx)("div",{children:this.state.following.map((function(e){return Object(s.jsxs)("div",{children:[Object(s.jsx)("img",{src:e.photo,alt:"following-avi"}),Object(s.jsx)(w.b,{to:"/profile/".concat(e._id),children:Object(s.jsx)("p",{children:e.username})})]},e._id)}))})}}]),n}(a.Component),H=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(l.a)(this,n);for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={book:[]},e.getDetails=function(){U.getBookDetails(e.props.match.params.bookId).then((function(t){e.setState({book:t.data})}))},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.getDetails()}},{key:"render",value:function(){console.log(this.state.book);var e=this.state.book;return Object(s.jsxs)("div",{children:[Object(s.jsx)("img",{src:e.image_url,alt:"book-cover"}),Object(s.jsx)("button",{children:Object(s.jsx)(w.b,{to:"/review/".concat(e._id),children:"Write a Review"})}),Object(s.jsx)("button",{children:Object(s.jsx)(w.b,{to:"/discuss/".concat(e._id),children:"Start a Discussion"})}),Object(s.jsx)("h1",{children:e.title}),Object(s.jsx)("h3",{children:e.subtitle}),Object(s.jsxs)("p",{children:["by: ",e.authors]}),Object(s.jsx)("p",{children:e.description})]})}}]),n}(a.Component),W=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(l.a)(this,n);for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={usersTheyFollowAndPosts:[]},e.getUsersTimeline=function(){I.getTimeline().then((function(t){e.setState({usersTheyFollowAndPosts:t.data})})).catch((function(e){return console.log(e)}))},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.getUsersTimeline()}},{key:"render",value:function(){return console.log(this.state.usersTheyFollowAndPosts),Object(s.jsx)("div",{})}}]),n}(a.Component),M=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(l.a)(this,n);for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={currentUser:null,reviews:[],discussions:[]},e.updateUser=function(t){g.getAuthenticatedUser().then((function(t){console.log("auth user in App.js ".concat(t)),e.setState({currentUser:t.data})})).catch((function(t){console.log("error in update user",t),e.setState({currentUser:null})}))},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.updateUser()}},{key:"render",value:function(){var e=this;return console.log("user in client",this.state.currentUser),Object(s.jsxs)("div",{children:[Object(s.jsx)(T,{user:this.state.currentUser,onUserChange:this.updateUser}),Object(s.jsxs)(j.c,{children:[Object(s.jsx)(j.a,{exact:!0,path:"/search",render:function(e){return Object(s.jsx)(C,Object(i.a)({},e))}}),Object(s.jsx)(j.a,{exact:!0,path:"/signup",render:function(e){return Object(s.jsx)(m,Object(i.a)({},e))}}),Object(s.jsx)(j.a,{exact:!0,path:"/login",render:function(t){return Object(s.jsx)(x,Object(i.a)(Object(i.a)({},t),{},{onUserChange:e.updateUser}))}}),Object(s.jsx)(j.a,{exact:!0,path:"/profile/:accountId",render:function(t){return Object(s.jsx)(R,Object(i.a)(Object(i.a)({},t),{},{user:e.state.currentUser,onUserChange:e.updateUser}))}}),Object(s.jsx)(j.a,{exact:!0,path:"/account/:accountId",render:function(t){return Object(s.jsx)(A,Object(i.a)(Object(i.a)({},t),{},{user:e.state.currentUser,onUserChange:e.updateUser}))}}),Object(s.jsx)(j.a,{exact:!0,path:"/shelves/:accountId",component:D}),Object(s.jsx)(j.a,{exact:!0,path:"/discuss/:bookId",render:function(t){return Object(s.jsx)(L,Object(i.a)(Object(i.a)({},t),{},{user:e.state.currentUser}))}}),Object(s.jsx)(j.a,{exact:!0,path:"/discussions/:accountId",render:function(t){return Object(s.jsx)(P,Object(i.a)(Object(i.a)({},t),{},{user:e.state.currentUser,onUserChange:e.updateUser}))}}),Object(s.jsx)(j.a,{exact:!0,path:"/review/:bookId",render:function(t){return Object(s.jsx)(N,Object(i.a)(Object(i.a)({},t),{},{user:e.state.currentUser}))}}),Object(s.jsx)(j.a,{exact:!0,path:"/reviews/:accountId",render:function(t){return Object(s.jsx)(E,Object(i.a)(Object(i.a)({},t),{},{user:e.state.currentUser,onUserChange:e.updateUser}))}}),Object(s.jsx)(j.a,{exact:!0,path:"/followers/:accountId",component:F}),Object(s.jsx)(j.a,{exact:!0,path:"/following/:accountId",component:B}),Object(s.jsx)(j.a,{exact:!0,path:"/details/:bookId",component:H}),Object(s.jsx)(j.a,{exact:!0,path:"/home",render:function(t){return Object(s.jsx)(W,Object(i.a)(Object(i.a)({},t),{},{user:e.state.currentUser}))}})]})]})}}]),n}(a.Component),K=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,63)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,o=t.getLCP,c=t.getTTFB;n(e),s(e),a(e),o(e),c(e)}))};r.a.render(Object(s.jsx)(w.a,{children:Object(s.jsx)(M,{})}),document.getElementById("root")),K()}},[[62,1,2]]]);
//# sourceMappingURL=main.14e5dac3.chunk.js.map